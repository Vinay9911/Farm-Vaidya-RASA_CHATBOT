version: "3.1"

stories:
- story: user confirms diagnosis
  steps:
  - action: action_provide_diagnosis
  - intent: affirm
  - action: utter_goodbye

- story: user rejects diagnosis
  steps:
  - action: action_provide_diagnosis
  - intent: deny
  - action: utter_ask_crop_type

- story: greet and goodbye
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye

- story: yellow crop diagnosis path
  steps:
  - intent: crop_issue
    entities:
    - crop_color: yellow
  - action: utter_ask_crop_type
  - intent: inform
    entities:
    - crop_type
  - action: utter_ask_water_frequency
  - intent: inform
    entities:
    - water_frequency
  - action: utter_ask_soil_type
  - intent: inform
    entities:
    - soil_type
  - action: utter_ask_weather_condition
  - intent: inform
    entities:
    - weather_condition
  - action: action_provide_diagnosis

# Weather stories
- story: ask weather with location
  steps:
  - intent: ask_weather
    entities:
    - location
  - action: action_get_weather

- story: ask weather without location
  steps:
  - intent: ask_weather
  - action: utter_ask_location
  - intent: inform
    entities:
    - location
  - action: action_get_weather

- story: ask weather forecast with location
  steps:
  - intent: ask_weather_forecast
    entities:
    - location
  - action: action_get_weather_forecast

- story: ask weather forecast without location
  steps:
  - intent: ask_weather_forecast
  - action: utter_ask_location
  - intent: inform
    entities:
    - location
  - action: action_get_weather_forecast

- story: ask farming advice based on weather with location
  steps:
  - intent: ask_weather_farming_advice
    entities:
    - location
  - action: action_get_weather

- story: ask farming advice based on weather without location
  steps:
  - intent: ask_weather_farming_advice
  - action: utter_ask_location
  - intent: inform
    entities:
    - location
  - action: action_get_weather